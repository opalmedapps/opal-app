<ons-page ng-controller="IndividualLabTestController">
    <ons-toolbar>
        <div class="left"><ons-back-button>{{"BACK"|translate}}</ons-back-button></div>
        <div class="center">{{"LAB_RESULTS"|translate}} {{test.testDateFormat|date:'shortDate'}}</div>
    </ons-toolbar>
    <ons-col>
        <!-- SEARCH BAR -->
        <div class="navigation-bar">
            <div class="navigation-bar__center">
                <input ng-model="searchText" type="search" class="search-input" style="width: 96%; margin: 6px auto 6px auto;" placeholder="{{'SEARCH'|translate}}">
            </div>
        </div>
        <ons-list>
            <ons-row>
                <ons-col class="col-xs-3 col-sm-3 col-lg-3">
                    <div class="name1" align="left" style="margin-left: 8px">
                        {{"LAB_NAME"|translate}}
                    </div>
                </ons-col>
                <ons-col class="col-xs-3 col-sm-3 col-lg-3">
                    <div class="name1" align="center">
                        {{"LAB_YOUR_RESULT"|translate}}
                    </div>
                </ons-col>
                <ons-col class="col-xs-6 col-sm-6 col-lg-6">
                    <div class="name1" align="right">
                        {{"LAB_NORM"|translate}}
                    </div>
                </ons-col>
            </ons-row>
            <ons-list ng-repeat="testCategory in testResultsByCategory">
                <ons-list-header>{{testCategory.testCategory|translate}}</ons-list-header>
                <ons-list-item modifier="tappable" ng-repeat="test in selectedLabResults | filter: searchText | orderBy:['testCategory']" ng-click="personalNavigator.pushPage('./views/personal/lab-results/timeline-test-component.html',{param:test});"  class="list-item-container" ng-if="test.testCategory == testCategory.testCategory">

                    <ons-row>
                        <ons-col class="col-xs-3 col-sm-3 col-lg-3">

                            <div ng-if="(test.AbnormalFlag) && ((test.TestValue < 0.95*test.MinNorm) || (test.TestValue > 1.05*test.MaxNorm))" class="lab-results-test-out5">
                                {{test.FacComponentName}} ({{test.AbnormalFlag}})
                            </div>

                            <div ng-if="(test.AbnormalFlag) && ((test.TestValue >= 0.95*test.MinNorm) && (test.TestValue <= 1.05*test.MaxNorm))"  class="lab-results-test-in5">
                                {{test.FacComponentName}} ({{test.AbnormalFlag}})
                            </div>

                            <div ng-if="(!test.AbnormalFlag)" class="name">
                                {{test.FacComponentName}} {{test.AbnormalFlag}}
                            </div>
                            <div class="desc">
                                ({{test.UnitDescription}})
                            </div>
                        </ons-col>

                        <ons-col class="col-xs-3 col-sm-3 col-lg-3">
                            <div ng-if="!test.AbnormalFlag" class="desc" align="center">
                                {{test.TestValue}}
                                <!--This displays your test value after clicking a specific test-->
                            </div>

                            <div ng-if="test.AbnormalFlag && ((test.TestValue < 0.95*test.MinNorm) || (test.TestValue > 1.05*test.MaxNorm))" class="descOut5" align="center">
                                {{test.TestValue}}
                                <!--This displays your test value after clicking a specific test-->
                            </div>

                            <div ng-if="test.AbnormalFlag && ((test.TestValue >= 0.95*test.MinNorm) && (test.TestValue <= 1.05*test.MaxNorm))" class="descIn5" align="center">
                                {{test.TestValue}}
                                <!--This displays your test value after clicking a specific test-->
                            </div>
                        </ons-col>
                        <ons-col class="col-xs-6 col-sm-6 col-lg-6">
                            <div class="desc" align="right">
                                {{test.MinNorm}} - {{test.MaxNorm}}
                                <!--This displays MinNorm and MaxNorm after clicking a specific test-->
                            </div>
                        </ons-col>
                    </ons-row>
                </ons-list-item>
            </ons-list>
    </ons-col>
</ons-page>