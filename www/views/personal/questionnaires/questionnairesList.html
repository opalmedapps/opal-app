<ons-page  ng-controller="questionnairesListController">
    <ons-toolbar fixed-style>
        <div class="left" ><ons-back-button>{{"BACK"|translate}}</ons-back-button></div>
        <div class="center" ng-class="fontSizeTitle">{{"QUESTIONNAIRES"|translate}}</div>
    </ons-toolbar>

    <div ng-show="loading" align="center" style="margin:10px">
        <svg class="progress-circular">
            <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>
        </svg>
        <br>
        {{"LOADINGDATA"|translate}}
    </div>
    <ons-tabbar class="shadow-2" position="top" animation="fade" var="questionnaire-bar" ng-hide="loading">
        <ons-tab active="true" ng-click="getDesiredQuestionnaires('new')" class="shadow-2" style="background-color:#ECEFF1;">
            <div class="tab" ng-class="fontSizeDesc">
                <ons-icon icon="ion-android-star" class="tab-icon"></ons-icon>
                <div class="tab-label" style="font-size: 13px !important;">{{'QUESTIONNAIRE_NEW'|translate}}</div>
            </div>
        </ons-tab>
        <ons-tab active="true" ng-click="getDesiredQuestionnaires('progress')" class="shadow-2" style="background-color:#ECEFF1;">
            <div class="tab" ng-class="fontSizeDesc">
                <ons-icon icon="ion-android-create" class="tab-icon"></ons-icon>
                <div class="tab-label" style="font-size: 13px !important;">{{'QUESTIONNAIRE_IN_PROGRESS'|translate}}</div>
            </div>
        </ons-tab>
        <ons-tab active="true" ng-click="getDesiredQuestionnaires('completed')" class="shadow-2" style="background-color:#ECEFF1;">
            <div class="tab" ng-class="fontSizeDesc">
                <ons-icon icon="ion-android-done" class="tab-icon"></ons-icon>
                <div class="tab-label" style="font-size: 13px !important;">{{'QUESTIONNAIRE_COMPLETED'|translate}}</div>
            </div>
        </ons-tab>
    </ons-tabbar>

    <div ng-hide="loading">
        <div class="ons-row" align="center" ng-init="refreshQuestionnairesList">
            <div class="ons-col" align="center">
                <p ng-show="desiredQuestionnaires.length == 0" style="color: grey; margin-top: 25vh;" ng-class="fontSizeTitle">{{"QUESTIONNAIRE_NONE"|translate}}</p>

                <ul class="list" ng-show="desiredQuestionnaires.length > 0">
                    <li class="list__item list__item--chevron" ng-repeat="questionnaire in desiredQuestionnaires"
                        ng-click="goToQuestionnaire(questionnaire, questionnaire.QuestionnaireDBSerNum, questionnaire.QuestionnaireSerNum)">
                        <p style="margin-top: 7px" ng-class="fontSizeTitle">{{questionnaires[questionnaire.QuestionnaireDBSerNum].QuestionnaireName}}</p>
                        <p ng-show="clickedText == 'completed'" style="margin-top: -22px;" ng-class="fontSizeDesc">{{"QUESTIONNAIRE_DATE_ANSWERED"|translate}}: {{patientQuestionnaires[questionnaire.QuestionnaireSerNum].CompletionDate}}</p>
                        <p ng-show="clickedText == 'new'" style="margin-top: -22px;"ng-class="fontSizeDesc">{{"QUESTIONNAIRE_DATE_ADDED"|translate}} {{patientQuestionnaires[questionnaire.QuestionnaireSerNum].DateAdded}}</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</ons-page>