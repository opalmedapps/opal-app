<!--
SPDX-FileCopyrightText: Copyright (C) 2016 Opal Health Informatics Group at the Research Institute of the McGill University Health Centre <john.kildea@mcgill.ca>

SPDX-License-Identifier: Apache-2.0
-->

<ons-page ng-controller="TourController as vm">
    <generic-toolbar title="{{'TOUR_NAME'|translate}}" style-class="fontSizeTitle"></generic-toolbar>

    <!-- TOUR NAVIGATION BAR -->
    <div id="tourCarouselBar" align="center">
        <ons-row>
            <ons-col>
                <div class="ion-chevron-left tour-carousel-arrow-margin" aria-hidden="true" ng-click="vm.prev()" ng-hide="vm.currentIndex == 0"></div>
            </ons-col>
            <ons-col ng-class="fontSizeTitle">
                {{vm.currentIndex + 1}} / {{vm.tourSections.length}}
            </ons-col>
            <ons-col>
                <div class="ion-chevron-right tour-carousel-arrow-margin" aria-hidden="true" ng-click="vm.next()" ng-hide="vm.currentIndex == vm.tourSections.length - 1"></div>
            </ons-col>
        </ons-row>
    </div>

    <!-- TOUR CAROUSEL -->
    <ons-carousel swipeable overscrollable auto-scroll fullscreen class="tour-carousel">
        <ons-carousel-item ng-repeat="section in vm.tourSections" class="tour-carousel-text-margin">
            <img ng-if="section.iconType === 'opal-logo'" src="img/Opal_Logo_Black.png" class="tour-icon-image">
            <ons-icon ng-if="section.iconType === 'icon'" icon="{{section.icon}}" class="tour-icon" aria-hidden="true"></ons-icon>
            <general-icon ng-if="section.iconType === 'general-icon'" icon-class="tour-icon"></general-icon>
            <div ng-class="fontSizeTitle" class="tour-title">{{section.title | translate}}</div>
            <div ng-class="fontSizeDesc">{{section.description | translate | replaceAll: "%%HELP_EMAIL%%":vm.helpEmail}}</div>
        </ons-carousel-item>
    </ons-carousel>
</ons-page>
