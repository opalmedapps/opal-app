<ons-navigator title="Navigator" var="myNavigatorAppointments">
<ons-page ng-controller="ScheduleController">
  <ons-toolbar>
    <div class="left">
      <ons-toolbar-button ng-click="menu.toggle()">
        <ons-icon icon="ion-navicon" size="28px" fixed-width="false"></ons-icon><div class="notification menu-notification">{{Notifications}}</div>
      </ons-toolbar-button>
    </div>
    <div class="center">Appointment Schedule</div>
  </ons-toolbar>
  <div class="container" ng-hide="noNotifications">
<a style="text-decoration:none" href ng-click="menu.setMainPage('views/notifications.html',{closeMenu:true})">
        <alert align="center" ng-show="showAlert&&(Notifications==1)" ng-model="alert" type="success" close="closeAlert()">You have {{Notifications}} unseen notifications. <span class="hidden-xs">Go to your Notifications page under the menu on the left.</span>
        </alert>
        <alert align="center" ng-show="showAlert&&(Notifications>1)" ng-model="alert" type="success" close="closeAlert()">You have {{Notifications}} unseen notification. <span class="hidden-xs">Go to your Notifications page under the menu on the left.</span>
        </alert></a>
 </div>

<!--THE NEXT APPOINTMENT DIV FOR ALL VIEWS, IT TAKES THE WHOLE SCREEN FOR MOBILE AND PORTRAIT TABLET VIEW-->
<div class="container-fluid hidden-xs hidden-sm" style="padding:1%" >
  <tabset>
       <tab select="renderCalender('myCalendar1');">
         <tab-heading>
          <ons-icon icon="fa-calendar"></ons-icon> Calendar
         </tab-heading>
         <div class="container-fluid" style="padding-top:2%">
            <div class="col-md-4 col-lg-4">
               <div class='container' style="margin-top:3vh">
                  <div class="panel panel-default">
                    <div class="panel-body" style="text-align: left;padding:5% 2% 5% 2%;">
        
            <div class"description">
                <strong>Type:</strong><p> {{nextAppointment.AppointmentType}}</p>

            </div>
            <div class="resource">
                <strong>Physician:</strong><p>{{nextAppointment.ResourceName}}.</p>
            </div>
            <div class="NextAppointmentDate">
                <strong>Appointment Start Time:</strong>
                <p>{{nextAppointment.ScheduledStartTime|date:"EEEE MMMM d, yyyy 'at' h:mm a"}}</p>
                <strong>Appointment End Time:</strong>
                <p>{{nextAppointment.ScheduledEndTime|date:"EEEE MMMM d, yyyy 'at' h:mm a"}}</p>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" align="center">
            <button ng-click="menu.setMainPage('views/checkin.html',{closedMenu:true})" class="btn btn-sm btn-success"><i class="fa fa-check-square-o" ></i> Check In</button>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" align="center">
            <button ng-click="calendarView()" class="btn btn-sm btn-success"><i class="fa fa-check-square-o" ></i> Location</button>
            </div>
            </div>
            </div>
            </div>
                             
            </div>
            <div class="hidden-xs hidden-sm col-md-8 col-lg-8" align="center">
                <div class="btn-group" align="center">
                  <button class="btn btn-primary" ng-click="changeView('agendaDay', 'myCalendar1')">AgendaDay</button>
                  <button class="btn btn-primary" ng-click="changeView('agendaWeek', 'myCalendar1')">AgendaWeek</button>
                  <button class="btn btn-primary" ng-click="changeView('month', 'myCalendar1')">Month</button>
                </div>
         
               <div style="width:80%" align="center" class="calendar" ng-model="eventSources" calendar="myCalendar1" ui-calendar="uiConfig.calendar"></div>
            </div>
        </div>                     
      </tab>
      <tab>
        <tab-heading>
          <ons-icon icon="fa-list-ul"></ons-icon> Appointment List 
        </tab-heading>
      </tab>
      <tab>
        <tab-heading>
          <ons-icon icon="fa-check-square"></ons-icon> Next Appointment
        </tab-heading>
      </tab>

  </tabset>



</div>



 <div style="text-align:left" class="container  col-xs-12 col-sm-12 col-md-4 col-lg-4" >

      <div style="margin-top:3vh">
        <div class="panel panel-default">
          <div class="panel-body" style="text-align: left;padding:5% 2% 5% 2%;">
            <h4>Your Next Appointment,</h4>
        
            <div class"description">
                <p><strong>Type: </strong>{{nextAppointment.AppointmentType}}</p>

            </div>
            <div class="resource">
               <p><strong>Physician: </strong>{{nextAppointment.ResourceName}}.</p>
            </div>
            <div class="NextAppointmentDate">
               <p> <strong>Date: </strong> {{nextAppointment.ScheduledStartTime|date:"EEEE MMMM d, yyyy"}}</p>
               <p> <strong>Start Time: </strong> {{nextAppointment.ScheduledStartTime|date:"h:mm a"}}</p>
               <p> <strong>End Time: </strong>{{nextAppointment.ScheduledEndTime|date: "h:mm a" }}</p>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" align="center">
            <button ng-click="menu.setMainPage('views/checkin.html',{closedMenu:true})" class="btn btn-sm btn-success"><i class="fa fa-check-square-o" ></i> Check In</button>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" align="center">
            <button ng-click="calendarView()" class="btn btn-sm btn-success"><i class="ion-map" ></i> Location</button>
            </div>
            </div>
            </div>
            </div>
            <br>
                <!--LIST OF APPOINTMENTS IN MAIN APPOINTMENT PAGE ONLY TO BE SHOWN FOR DESKTOPS AND LARGE SCREENS-->
    <div class="hidden-xs hidden-sm" align="center">
         <h4>Upcoming Appointments</h4>
    <!--<pre>{{radioModel || 'null'}}</pre>-->
    <div class="btn-group">
        <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Left'">Past</label>
        <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Center'">Today</label>
        <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Right'">Upcoming</label>
    </div>
</div>
    </div>

    <!--CALENDAR IN MAIN APPOINTMENT PAGE ONLY TO BE SHOWN FOR DESKTOPS AND LARGE SCREENS-->
    <div class="hidden-xs hidden-sm col-md-7 col-lg-7" >
            
                    <div class="span12">
                       <button type="button" class="btn btn-primary" ng-click="addEvent()">
                            Add Event
                          </button>
                       
                    </div>
    </div>



<!--DIV LINKS TO CALENDAR AND LIST OF APPOINTMENTS VIEW FOR SMALL AND PORTRAIT TABLET VIEWS-->
<div class='hidden-lg hidden-md'>
<ons-list modifier="inset" style="margin-top: 10px" class="prop-desc">
        <ons-list-item modifier="chevron" ng-click="myNavigatorAppointments.pushPage('pageCalendar.html', {param:type},{ animation : 'slide' } )" >
          <ons-icon icon="ion-calendar"></ons-icon>&nbsp;<span style="color:black">Check My Calendar</span>
        </ons-list-item>

        <ons-list-item modifier="chevron" ng-click="myNavigatorAppointments.pushPage('pageAppointmentList.html', {param:type},{ animation : 'slide' } )" >
          <ons-icon icon="ion-ios-list-outline"></ons-icon>&nbsp;<span style="color:black">Check List of Appointments</span>
        </ons-list-item>
      </ons-list>

</div>


</div>
<!--
    <ons-list class="plan-list">
        <ons-list-item  modifier="chevron" class="plan" ng-repeat="app in appointments">
            <ons-row>
                <ons-col width="80px" class="plan-left">
                    <div class="plan-date" ng-show="app.Status!='Future'">{{app.Date|date:'MMM d'}}</div>
                    <div class="plan-duration" ng-show="app.Status!='Future'&&app.Status!='Next'">{{(timeBetweenAppointments[$index]).TimeDiffInDays | number:1}} <span >days</span></div>
                </ons-col>
                <ons-col width="6px" class="plan-center" ng-style="{ 'background-color': getStyle($index) }"></ons-col>
                <ons-col class="plan-right">
                    <div class="plan-name">{{app.Name}}</div>
                    <div class="plan-info">
                        <div>
                            <ons-icon icon="fa-calendar"></ons-icon>&nbsp;{{app.Date|date:"EEEE MMMM d, yyyy 'at' h:mm a"}}</div>
                        <div >
                            <ons-icon icon="fa-map-marker"></ons-icon>Room L3212</div>
                    </div>
                </ons-col>
            </ons-row>
        </ons-list-item>-->
</ons-page>



<!-- CALENDAR VIEW FOR MOBILE AND PORTRAIT TABLET, ALSO TO BE USED IN DESKTOP WITH SOME MODIFICATIONS THAT WILL COME LATER-->
<ons-template id="pageCalendar.html">
  <ons-page ng-controller="CalendarController">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">Calendar</div>
    </ons-toolbar>
       <div align="center">
       <div style="text-align:center;display:inline-block;font-size:10px"><div style="width:10px;height:10px;background-color:red;display:inline-block;border:1px solid #000;"></div>&nbsp;<strong>Past</strong></div>&nbsp;&nbsp;<div style="text-align:center;display:inline-block;font-size:10px"><div style="width:10px;height:10px;background:#5CE68A;border:1px solid #000;display:inline-block"></div>&nbsp;<strong>Today</strong></div>&nbsp;&nbsp;<div style="text-align:center;display:inline-block;font-size:10px"><div style="width:10px;height:10px;border:1px solid #000;background:blue;display:inline-block"></div>&nbsp;<strong>Upcoming</strong></div>



      <datepicker ng-model="dt" min-date="minDatesss" datepicker-mode="calendarMode" show-weeks="true" class="well well-sm" custom-class="getDayClass(date, mode)"></datepicker>
    </div>
 <div class="panel-default">
 <div class="panel-heading">
 <pre>Appointments on <em>{{dt | date:'fullDate' }}:</em></pre>
 </div>
 <div class="panel-body" style="padding:0">
          <ons-list class="plan-list " >
          <ons-list-item style="1px solid black" modifier="chevron" ng-repeat="app in calendarDayAppointments"  ng-click="myNavigatorAppointments.pushPage('pageIndividualAppointment.html', {param:app},{ animation : 'slide' } )" >
            <ons-row>
              <ons-col style="opacity: 0.6;
    filter: alpha(opacity=60);" width="20px" class="plan-left" ng-style="{ 'background-color': getStyle($index) }">
              </ons-col>

              <ons-col class="plan-right">
                <div class="plan-name-calendar">Type: {{app.AppointmentType}}<br><span class="plan-date-calendar">Date:<br>{{app.ScheduledStartTime|date:"EEEE MMMM d, yyyy 'at' h:mm a"}}</span></div>
                <div class="plan-info">
                  <div>
                    <ons-icon icon="fa-phone"></ons-icon>Doctor: {{app.ResourceName}}
                  </div>
                  <div >
                    <ons-icon icon="fa-map-marker"></ons-icon>Location: {{app.Location}}
                  </div>
                </div>
              </ons-col>
            </ons-row>
          </ons-list-item> 
          </ons-list>
</div>
</div>
  </ons-page>



<!--THIS IS THE APPOINTMENT LIST VIEW FOR THE MOBILE VIEW SO FAR-->
</ons-template>
<ons-template id="pageAppointmentList.html">
  <ons-page ng-controller="AppointmentListController">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">{{header}}</div>
    </ons-toolbar>
   
     <div class="panel-default">
 <div class="panel-heading">
 <pre><em>{{ today| date:'fullDate' }}:</em></pre>
 <div align="center">
  <div class="btn-group" >
        <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Past'">Past</label>
        <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Today'">Today</label>
        <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Upcoming'">Upcoming</label>
    </div>
 </div>
 </div>
 <div class="panel-body" style="padding:0">
          <ons-list class="plan-list " >
          <ons-list-item style="1px solid black" modifier="chevron" ng-repeat="app in appointments"  ng-click="myNavigatorAppointments.pushPage('pageIndividualAppointment.html', {param:app},{ animation : 'slide' } )" >
            <ons-row>
              <ons-col style="opacity: 0.6;
    filter: alpha(opacity=60);" width="20px" class="plan-left" ng-style="{ 'background-color': getStyle($index) }">
              </ons-col>

              <ons-col class="plan-right">
                <div class="plan-name-calendar">Type: {{app.AppointmentType}}<br><span class="plan-date-calendar">Date:<br>{{app.ScheduledStartTime|date:"EEEE MMMM d, yyyy 'at' h:mm a"}}</span></div>
                <div class="plan-info">
                  <div>
                    <ons-icon icon="fa-phone"></ons-icon>Doctor: {{app.ResourceName}}
                  </div>
                  <div >
                    <ons-icon icon="fa-map-marker"></ons-icon>Location: {{app.Location}}
                  </div>
                </div>
              </ons-col>
            </ons-row>
          </ons-list-item> 
          </ons-list>
</div>
</div>
  </div>
  </div>
     
  </ons-page>
</ons-template>

<ons-template id="pageIndividualAppointment.html">
  <ons-page ng-controller="IndividualAppointmentController">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">{{app.AppointmentType}}</div>
      <div class="right"><ons-toolbar-button ng-click="menu.setMainPage('views/schedule.html',{closedMenu:true});">Main</ons-toolbar-button></div>
    </ons-toolbar>
    <!--<div class="container jumbotron" style="text-align: left;padding:5% 2% 5% 2%">-->
    <div class='container' style="margin-top:3vh">
    <div class="panel panel-default">
  <div class="panel-body" style="text-align: left;padding:5% 2% 5% 2%;">
      <br />
      <h4>Appointment With:</h4>{{app.ResourceName}}
      <h4>Date: </h4>{{app.ScheduledStartTime|date:"EEEE MMMM d, yyyy"}}<br><br>
      <strong>Start Time: </strong>{{app.ScheduledStartTime|date:"h:mm a"}}<br>
      <strong>End Time: </strong>{{app.ScheduledEndTime|date:"h:mm a"}}<br>
      <strong>Location: </strong> {{app.Location}}
     <br>
     <br>
     </div>
     </div>
     </div>
     <!--<div align="center">
     <button ng-show="futureAppointment" class="btn btn-sm btn-success" ng-click="requestChange()" value="maps">Request Change</button>
     </div>-->
    <!--</div>-->
     <ons-list modifier="inset" style="margin-top: 10px" class="prop-desc">
     <ons-list-item ng-show="appointmentToday" modifier="chevron" ng-click="menu.setMainPage('views/checkin.html',{closedMenu:true})" >
          <ons-icon icon="fa fa-check-square-o"></ons-icon>&nbsp;<span style="color:black">Check In</span>
        </ons-list-item>

        <ons-list-item modifier="chevron" ng-click="myNavigatorAppointments.pushPage('pageMap.html', {param:type},{ animation : 'slide' } )" >
          <ons-icon icon="ion-map"></ons-icon>&nbsp;<span style="color:black">Show Location in Map</span>
        </ons-list-item>
        <ons-list-item ng-show="futureAppointment" modifier="chevron" ng-click="myNavigatorAppointments.pushPage('pageRequestChange.html', {param:app},{ animation : 'slide' } )" >
          <ons-icon icon="ion-shuffle"></ons-icon>&nbsp;<span style="color:black">Request Change</span>
        </ons-list-item>

        
      </ons-list>
  </ons-page>
</ons-template>
<ons-template id="pageMap.html">
  <ons-page ng-controller="AppointmentMapController">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">Appointment Map</div>
    </ons-toolbar>
     <div class="panel panel-default">
  <div class="panel-body">
    <div  style="width: 100%; height: 100%"> <!-- set desired position and size to that div -->
        <canvas id="mycanvas1" style="width: 90%; height: 500px"></canvas>
    </div>
  </div>
  </div>  
  </ons-page>
</ons-template>
<ons-template id="pageRequestChange.html">
  <ons-page ng-controller="RequestChangeController">
    <ons-toolbar>
      <div class="left"><ons-back-button>Back</ons-back-button></div>
      <div class="center">Request Change</div>
    </ons-toolbar>
    <div class="container" style="margin-top:3vh">
    
 <br>
  <div class="panel panel-default">
  <div class="panel-body" align="center">
  <h5 style="text-align:center">Pick range of dates for appointment reschedule:</h5>
  <strong>Start Date:</strong> <input type="date" ng-model="startDate" ><br><br>
  <strong>End Date:</strong> <input type="date" ng-model="endDate"><br><br>
  <strong>Pick Time of Day:</strong><br><select name="Language" ng-model="timeOfDay">
              <option value="Morning">Morning</option>
              <option value="Afternoon">Afternoon</option>
              <option value="Evening">Evening</option>
          </select>


  </div>  
  </div>
   <div ng-show="showAlert" style="margin-left:2vw;margin-top:2vh;">
        <p class="{{alertClass}}">{{alertMessage}}</p>
  </div>
  <div>
    <button class="button button--large" ng-disabled="disabled" ng-click="requestChange()"  style="margin: 0 auto;">Request Change</button><br>
  </div>
        </div>
  </ons-page>
</ons-template>
</ons-navigator>
