
<div class="container-fluid" ng-controller="TreatmentPlanController" style="height:100%" id="verticallyAlignTreatment">
<div class="row">
  <div class="col-xs-8">
    <div class="col-xs-12 div-container-section">
      <div class="row" align="center">
        <div style="width:20px;display:inline-block;position:absolute;top:2px;left:4px" align="left">
          <i class="icon iconThemeViews ion-ios-settings"></i>
        </div>
        <div style="display:inline-block">
          <h4 style="margin:0"> Planning Stages<h4>
      </div>
    </div>
    <div ng-show="noStagePlan" class="row" ng-controller="flow">
        <div class="col-xs-11 col-xs-offset-1 col-md-11 col-md-offset-1 col-sm-11  col-sm-offset-1 col-lg-11 col-lg-offset-1">
        <div ng-show="treatmentPlanLessThanEight">
        <div class="col-xs-6 col-md-6 col-sm-6 col-lg-6" style="padding:0;margin:0">
            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12" style="padding:0;margin:0">
                <div ng-repeat="stage in stages" ng-show="$index<stages.length/2" class="col-xs-3 col-md-3 col-sm-3 col-lg-3" style="display:inline-block;margin-left:-3px">
            <div class="row">
                <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5" style="padding:0;margin-left:-1px">
                    <a  ng-click="selectStageForShow($index)" type="button" class="btn btn-link" style="text-decoration:none;z-index:4"><div ng-class="classCircle($index)"><i ng-class="iconClass($index)" style="font-size:80%"></i></div></a>
                </div>
                <div class="col-xs-7 col-md-7 col-sm-7 col-lg-7" ng-hide="$index==stages.length-1"style="padding:0;z-index:-1">
                    <div class="progress" style="padding:0;margin:10px 0 0 -2px;height:15px" >
                        <div class="progress-bar progress-bar-striped" ng-class="setBarColor($index)" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="setPercentageBar($index)"></div>
                    </div>
                </div>
            </div>
            <div style="margin-left:-1vw">{{stage.Name}}</div>
        </div>
            </div>
        </div>
        <div class="col-xs-6 col-md-6 col-sm-6 col-lg-6" style="padding:0;margin:0 0 0 -10px">
            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12" style="padding:0;margin:0">
                   <div ng-repeat="stage in stages" ng-show="$index>=stages.length/2" class="col-xs-3 col-md-3 col-sm-3 col-lg-3" style="display:inline-block;margin-left:-3px">
            <div class="row">
                <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5" style="padding:0;margin-left:-1px">
                    <div ng-class="classCircle($index)"><button ng-click="selectStageForShow($index)" type="button" class="btn btn-link" style="text-decoration:none;z-index:4"><i ng-class="iconClass($index)" style="font-size:80%"></i></button></div>
                </div>
                <div class="col-xs-7 col-md-7 col-sm-7 col-lg-7" ng-hide="$index==stages.length-1"style="padding:0;z-index:-1">
                    <div class="progress" style="padding:0;margin:20px 0 0 -2px;height:15px" >
                        <div class="progress-bar progress-bar-striped" ng-class="setBarColor($index)" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="setPercentageBar($index)"></div>
                    </div>
                </div>
            </div>
            <div style="margin-left:-1vw">{{stage.Name}}</div>
        </div>
            </div>
        </div>
        </div>
        <div ng-hide="treatmentPlanLessThanEight" class="col-xs-12 col-md-12 col-sm-12 col-lg-12">
        <div ng-repeat="stage in stages" ng-class="classStageClass" style="display:inline-block;margin-left:-3px">
            <div class="row">
                <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5" style="padding:0;margin-left:-1px">
                    <div ng-class="classCircle($index)">
                    <button ng-click="selectStageForShow($index)" type="button" class="btn btn-link" style="text-decoration:none;z-index:4"><i ng-class="iconClass($index)" style="font-size:80%"></i>
                    </button></div>
                </div>
                <div class="col-xs-7 col-md-7 col-sm-7 col-lg-7" ng-hide="$index==stages.length-1"style="padding:0;z-index:-1">
                    <div class="progress" style="padding:0;margin:5px 0 0 0;margin-left:-2px;height:15px" >
                        <div class="progress-bar progress-bar-striped" ng-class="setBarColor($index)" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="setPercentageBar($index)"></div>
                    </div>
                </div>
            </div>
            <div style="margin-left:-1vw">{{stage.Name}}</div>
        </div>
        </div>
        </div>
  </div>
  </div>
  <div class="col-xs-6">
    <div class="col-xs-12 div-container-section row" style="height:50vh" ng-controller="TreatmentPlanStatusController">

      <div class="row">
        <div class="col-xs-1">
          <i class="ion-clipboard iconThemeViews"></i>
        </div>
        <div class="col-xs-11">
          <div align="center">
            <h4 style="margin-top:0px;margin-left:-10px">Status</h4>
          </div>
        </div>
      </div>
      <div class="col-xs-offset-1 col-xs-11">

    <div class="progressStatus" id="presentStageTreatmentView">

    </div>
    <div ng-show="!treatmentPlanCompleted" class="progressStatus" id="pastStagesTreatmentView" style="margin-top:-200px">

    </div>

    <div align="center">
    <div class="progressStatusTextBox">
    <strong>Stage {{outOf}} </strong><br>
      {{percentage}}% Completed
      <div ng-show="!treatmentPlanCompleted" align="middle" style="margin-left:5px">
        <i class="ion-loop iconStatusBox"></i> <strong>In progress<br> </strong>
        {{currentStage}}
        <a href ng-click="menu.setMainPage('views/educational-material.html',{closedMenu:true})"><i class="ion-help-circled iconStatusBox"></i></a><br>
        <strong><i class="ion-clock iconStatusBox"></i> Completion Date</strong><br>
        Nov 3 <a href ng-click="menu.setMainPage('views/educational-material.html',{closedMenu:true})"><i class="ion-help-circled iconStatusBox"></i></a><br>
        <span style="color:grey">(Estimated)</span>
      </div>
      <div ng-show='treatmentPlanCompleted' align="middle" style="margin-left:5px">
      <p><i class="ion-checkmark-circled iconStatusBox"></i> Treatment plan completed on <br><strong>{{completionDate|date:fulldate}}</strong></p>
    </div>
    </div>
    </div>
      </div>
    </div>

  </div>

  <div class="col-xs-6">
    <div class="div-container-section" style="height:50vh">
    <h4>{{selectedStage.Name}}:</h4>
    {{selectedStage.Description}}
  </div>
</div>
  </div>
  <div class="col-xs-4">
    <div class="div-container-section">
  <div class="my-home-profile" >
  <div class="row">
   <div class="col-xs-1" >
     <div align="center">
      <i class="fa fa-tasks icon iconThemeViews" ></i>
    </div>
  </div>
   <div class="col-xs-11">
      <div style='text-align:center'><h4 style="margin-top:0px;margin-bottom:0px">Treatment Plan</h4></div>

   </div>
  </div>
  <div >
    <div class="plan-treatment-list"  style="height:100%">
      <ul class="list">
           <li class="row list__item__appointments list__item__appointments--tappable" ng-repeat="app in stages" ng-click="selectStageForShow($index)">
             <div class="col-xs-1" class="plan-treatment-left">
               <div class="row">
                 <div class="col-xs-11">
                   <div class="plan-treatment-date" ng-show="app.Status=='Past'"><img ng-src="./img/checkedbox.png" width="20px" height="20px"></div>
                   <div class="plan-treatment-duration" ng-show="app.Status=='Future'||app.Status=='Next'">
                       <img ng-src="./img/uncheckedbox.png" width="20px" height="20px">
                   </div>
                 </div>
               </div>
             </div>
             <div class="col-xs-11 plan-treatment-right" style="margin-top:0">
                    <div class="plan-treatment-name" style="margin-top:0"> <span style="text-align:left"><strong>{{$index+1}}</strong></span>  {{app.Name}}</div>
                 <div class="plan-treatment-info">
                     <div ng-show="app.Type=='Appointment'">
                         <i class="icon fa fa-calendar " style="color:#2B6197"></i>&nbsp;{{app.Date|formatDateAppointmentTask}}
                     </div>
                     <div ng-show="app.Type=='Task'&&app.Status=='Past'">
                     <strong><i class="ion-compose iconHomeView" ></i>&nbsp;Stage completed: </strong>{{app.Date|formatDateAppointmentTask}}
                     </div>
                     <div ng-show="app.Type=='Task'&&app.Status=='Future'">
                     <strong>Pending </strong>
                     </div>
                     <div ng-show="app.Type=='Task'&&app.Status=='Next'">
                     <strong><i class="ion-loop iconHomeView"></i>&nbsp;In progress...</strong>
                     </div>
                 </div>
             </div>
           </li>
         </ul>

    </div>
  </div>
  </div>
  </div>

  </div>
</div>
</div>
</div>
