<script type="text/ng-template" id="treatmentPlan.html">
 <div ng-show="noStagePlan" class="row" ng-controller="flow">
        <div class="col-xs-11 col-xs-offset-1 col-md-11 col-md-offset-1 col-sm-11  col-sm-offset-1 col-lg-11 col-lg-offset-1">
        <div ng-show="treatmentPlanLessThanEight">
        <div class="col-xs-6 col-md-6 col-sm-6 col-lg-6" style="padding:0;margin:0">
            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12" style="padding:0;margin:0">
                <div ng-repeat="stage in stages" ng-show="$index<stages.length/2" class="col-xs-3 col-md-3 col-sm-3 col-lg-3" style="display:inline-block;margin-left:-3px">
            <div class="row">
                <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5" style="padding:0;margin-left:-1px">
                    <div ng-class="classCircle($index)"><button  popover-placement="bottom" ng-click="setPopOver($index)" Popover-animation="true" popover-template="dynamicPopover.templateUrl" popover-trigger="focus" popover-title="{{dynamicPopover.title}}" type="button" class="btn btn-link" style="text-decoration:none"><i ng-class="iconClass($index)" style="font-size:80%"></i></button></div>
                </div>
                <div class="col-xs-7 col-md-7 col-sm-7 col-lg-7" ng-hide="$index==stages.length-1"style="padding:0;z-index:-1">
                    <div class="progress" style="padding:0;margin:10px 0 0 -2px;height:15px" >
                        <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="setPercentageBar($index)"></div>
                    </div>
                </div>   
            </div>
            <div style="margin-left:-1vw">{{stage.Name}}</div>
        </div>     
            </div>
        </div>
        <div class="col-xs-6 col-md-6 col-sm-6 col-lg-6" style="padding:0;margin:0 0 0 -10px">
            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12" style="padding:0;margin:0">
                   <div ng-repeat="stage in stages" ng-show="$index>=stages.length/2" class="col-xs-3 col-md-3 col-sm-3 col-lg-3" style="display:inline-block;margin-left:-3px">
            <div class="row">
                <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5" style="padding:0;margin-left:-1px">
                    <div ng-class="classCircle($index)"><button popover-placement="bottom" ng-click="setPopOver($index)" Popover-animation="true" popover-template="dynamicPopover.templateUrl" popover-trigger="focus" popover-title="{{dynamicPopover.title}}" type="button" class="btn btn-link" style="text-decoration:none"><i ng-class="iconClass($index)" style="font-size:80%"></i></button></div>
                </div>
                <div class="col-xs-7 col-md-7 col-sm-7 col-lg-7" ng-hide="$index==stages.length-1"style="padding:0;z-index:-1">
                    <div class="progress" style="padding:0;margin:10px 0 0 -2px;height:15px" >
                        <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="setPercentageBar($index)"></div>
                    </div>
                </div>   
            </div>
            <div style="margin-left:-1vw">{{stage.Name}}</div>
        </div> 
            </div>
        </div>
        </div>
        <div ng-hide="treatmentPlanLessThanEight" class="col-xs-12 col-md-12 col-sm-12 col-lg-12">
        <div ng-repeat="stage in stages" ng-class="classStageClass" style="display:inline-block;margin-left:-3px">
            <div class="row">
                <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5" style="padding:0;margin-left:-1px">
                    <div ng-class="classCircle($index)">
                    <button popover-placement="bottom" ng-click="setPopOver($index)" Popover-animation="true" popover-template="dynamicPopover.templateUrl" popover-trigger="focus" popover-title="{{dynamicPopover.title}}" type="button" class="btn btn-link" style="text-decoration:none"><i ng-class="iconClass($index)" style="font-size:80%"></i>
                    </button></div>
                </div>
                <div class="col-xs-7 col-md-7 col-sm-7 col-lg-7" ng-hide="$index==stages.length-1"style="padding:0;z-index:-1">
                    <div class="progress" style="padding:0;margin:5px 0 0 0;margin-left:-2px;height:15px" >
                        <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ng-style="setPercentageBar($index)"></div>
                    </div>
                </div>   
            </div>
            <div style="margin-left:-1vw">{{stage.Name}}</div>
        </div>
        </div>
        </div>
</div>

<div ng-hide="!noStagePlan" align="center">
<h4>No plan workflow available at the moment</h4>
</div>
</script>
<script type="text/ng-template" id="myPopoverTemplate.html">
    <div>
    <strong>Date: </strong> {{dynamicPopover.date|date:"EEEE MMMM d, yyyy"}}
    <div ng-hide="dynamicPopover.showDuration">
    <strong>Duration: </strong> {{dynamicPopover.duration}} days.<br>
    </div>
    <a href ng-click="moreInfoStage(dynamicPopover.name)">More info &raquo;</a>
    </div>
</script>