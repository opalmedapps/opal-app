<h1><code ng:non-bindable="">Messages</code>
<div><span class="hint">service in module <code ng:non-bindable="">MUHCApp</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="muhcapp-services-page muhcapp-services-messages-page"><p>Service deals with patient/doctor messaging portal, parses Firebase object into the appropiate format
and defines methods for sending messages back to Firebase.</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/ng.$filter">$filter</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$rootScope">$rootScope</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:UserAuthorizationInfo">UserAuthorizationInfo</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:Patient">Patient</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:Doctors">Doctors</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:LocalStorage">LocalStorage</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_addnewmessagetoconversation">addNewMessageToConversation(conversationIndex, senderRole, messageCotent, date)</h3>
<div class="addnewmessagetoconversation"><div class="addnewmessagetoconversation-page"><p>Sends the message to Firebase request fields.</p>
</div><h5 id="methods_addnewmessagetoconversation_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>conversationIndex</td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="addnewmessagetoconversation-page"><p>Index of conversation in the UserConversationsArray</p>
</div></td></tr><tr><td>senderRole</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addnewmessagetoconversation-page"><p>User or Doctor</p>
</div></td></tr><tr><td>messageCotent</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addnewmessagetoconversation-page"><p>Content of message</p>
</div></td></tr><tr><td>date</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="addnewmessagetoconversation-page"><p>Date of message</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_getusermessages">getUserMessages()</h3>
<div class="getusermessages"><h5 id="methods_getusermessages_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-array">Array</a></td><td><div class="getusermessages-page"><p>Returns the UserConversationsArray.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_setdateoflastmessage">setDateOfLastMessage()</h3>
<div class="setdateoflastmessage"><div class="setdateoflastmessage-page"><p>Sets the date for the last message in conversation</p>
</div></div>
</li>
<li><h3 id="methods_setusermessages">setUserMessages(messages)</h3>
<div class="setusermessages"><div class="setusermessages-page"><p>Parses message into right format, parses Date of messages to a Javascript date, organizes the messages in coversation in chronological order,
then instatiates UserMessages property UserConversationsArray and lastly instiates UserMessages property
UserMessagesLastUpdated</p>
</div><h5 id="methods_setusermessages_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>messages</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="setusermessages-page"><p><a href="api/MUHCApp.services:UpdateUI">UpdateUI</a> calls setUserMessages with the object Message obtained from the Firebase user fields.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_updateusermessages">updateUserMessages(messages)</h3>
<div class="updateusermessages"><div class="updateusermessages-page"><p>Parses message into right format, parses Date of messages to a Javascript date, organizes the messages in coversation in chronological order,
then updates UserConversationsArray</p>
</div><h5 id="methods_updateusermessages_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>messages</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="updateusermessages-page"><p><a href="api/MUHCApp.services:UpdateUI">UpdateUI</a> calls setUserMessages with the object Message obtained from the Firebase user fields.</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
<div class="member property"><h2 id="properties">Properties</h2>
<ul class="properties"><li><h3 id="properties_userconversationsarray">UserConversationsArray</h3>
<div class="userconversationsarray"><div class="muhcapp-service-userconversationsarray-page"><p>Contains all the conversations for the User, UserConversationsArray[0] contains the first conversation.</p>
</div></div>
</li>
<li><h3 id="properties_messageslocalstorage">messagesLocalStorage</h3>
<div class="messageslocalstorage"><div class="muhcapp-service-messageslocalstorage-page"><p>Contains localStorage representation of messages</p>
</div></div>
</li>
</ul>
</div>
</div>
