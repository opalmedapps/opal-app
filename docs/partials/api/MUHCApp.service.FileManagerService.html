<h1><code ng:non-bindable="">FileManagerService</code>
<div><span class="hint">service in module <code ng:non-bindable="">MUHCApp</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="muhcapp-service-page muhcapp-service-filemanagerservice-page"><p>Allows the app&#39;s controllers or services interact with the file storage of the device. For more information look at <a href="https://github.com/apache/cordova-plugin-file">Cordova File Plugin</a>, reference for social sharing plugin <a href="https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin">Cordova Sharing Plugin</a></p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/MUHCApp.service:NewsBanner">NewsBanner</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$cordovaFileOpener2">$cordovaFileOpener2</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$q">$q</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$filter">$filter</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_downloadfileintostorage">downloadFileIntoStorage(url, targetPath)</h3>
<div class="downloadfileintostorage"><div class="downloadfileintostorage-page"><p>Downloads the url into the targetPath specified for the device, Checks if the document has been downloaded if it has not, it proceeds</p>
</div><h5 id="methods_downloadfileintostorage_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="downloadfileintostorage-page"><p>url to check</p>
</div></td></tr><tr><td>targetPath</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="downloadfileintostorage-page"><p>Path to download url into</p>
</div></td></tr></tbody></table><h5 id="methods_downloadfileintostorage_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="downloadfileintostorage-page"><p>If the document has been downloaded before, or if it downloads successfully, it function resolves to the file entry representing that document, otherwise rejects the promise with the appropiate error.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_finddocumentindevice">findDocumentInDevice(type, documentSerNum)</h3>
<div class="finddocumentindevice"><div class="finddocumentindevice-page"><p>If it finds the document in storage, returns file path representations otherwise returns the error,</p>
</div><h5 id="methods_finddocumentindevice_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>type</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="finddocumentindevice-page"><p>Type for document</p>
</div></td></tr><tr><td>documentSerNum</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="finddocumentindevice-page"><p>DocumentSerNum</p>
</div></td></tr></tbody></table><h5 id="methods_finddocumentindevice_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="finddocumentindevice-page"><p>Promise resolves to document paths if document has been found, otherwise returns document not found error.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getcdvfilepathfordocument">getCDVFilePathForDocument(document)</h3>
<div class="getcdvfilepathfordocument"><div class="getcdvfilepathfordocument-page"><p>Gets the CDV file path representation of the document inside the device storage</p>
</div><h5 id="methods_getcdvfilepathfordocument_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>document</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getcdvfilepathfordocument-page"><p>Url to return</p>
</div></td></tr></tbody></table><h5 id="methods_getcdvfilepathfordocument_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getcdvfilepathfordocument-page"><p>Returns the CDV file representation of file in stroage</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getdocumenturls">getDocumentUrls(document)</h3>
<div class="getdocumenturls"><div class="getdocumenturls-page"><p>Gets the path representations of the document inside the device storage</p>
</div><h5 id="methods_getdocumenturls_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>document</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getdocumenturls-page"><p>Url to return</p>
</div></td></tr></tbody></table><h5 id="methods_getdocumenturls_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="getdocumenturls-page"><p>Object containing the two representations of file paths for the document in the device storage</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getfilepathfordocument">getFilePathForDocument(document)</h3>
<div class="getfilepathfordocument"><div class="getfilepathfordocument-page"><p>Gets the file path representation of the document inside the device storage</p>
</div><h5 id="methods_getfilepathfordocument_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>document</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getfilepathfordocument-page"><p>Url to return</p>
</div></td></tr></tbody></table><h5 id="methods_getfilepathfordocument_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getfilepathfordocument-page"><p>Returns the device path representation of file in stroage</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getfiletype">getFileType(url)</h3>
<div class="getfiletype"><div class="getfiletype-page"><p>Obtains file type</p>
</div><h5 id="methods_getfiletype_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getfiletype-page"><p>url to check and extract file type</p>
</div></td></tr></tbody></table><h5 id="methods_getfiletype_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getfiletype-page"><p>Returns type</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getfileurl">getFileUrl(filePath)</h3>
<div class="getfileurl"><div class="getfileurl-page"><p>Opens file from device storage and converts into base64 format, it returns the base64 representation via promises</p>
</div><h5 id="methods_getfileurl_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>filePath</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="getfileurl-page"><p>File path to look for in storage</p>
</div></td></tr></tbody></table><h5 id="methods_getfileurl_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="getfileurl-page"><p>If fulfilled document base64 representation returned correctly, otherwise, rejects promise with appropiate error.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_ispdfdocument">isPDFDocument(url)</h3>
<div class="ispdfdocument"><div class="ispdfdocument-page"><p>Public function to determine whether the url is a pdf</p>
</div><h5 id="methods_ispdfdocument_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="ispdfdocument-page"><p>url to check</p>
</div></td></tr></tbody></table><h5 id="methods_ispdfdocument_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="ispdfdocument-page"><p>Value representing whether a given url is a pdf or not</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_openpdf">openPDF(url)</h3>
<div class="openpdf"><div class="openpdf-page"><p>If its an android phone, the function uses <a href="https://github.com/pwlin/cordova-plugin-file-opener2">Cordova File Opener2</a>, and opens the pdf using a third party software. If its an iOS device or a browser, it simply opens it in a new browser window.</p>
</div><h5 id="methods_openpdf_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="openpdf-page"><p>File url to open</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_openurl">openUrl(url)</h3>
<div class="openurl"><div class="openurl-page"><p>Opens url in another browser window.</p>
</div><h5 id="methods_openurl_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="openurl-page"><p>Url to be opened</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_setbase64document">setBase64Document(document)</h3>
<div class="setbase64document"><div class="setbase64document-page"><p>Concatanates appropiate base64 prefix to content according to document type.</p>
</div><h5 id="methods_setbase64document_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>document</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="setbase64document-page"><p>Document object</p>
</div></td></tr></tbody></table><h5 id="methods_setbase64document_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="setbase64document-page"><p>Returns document object with the Content set to a correct base64 url</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_sharedocument">shareDocument(name, url)</h3>
<div class="sharedocument"><div class="sharedocument-page"><p>Opens the native shared functionality and allows the user to share the url through different mediums, giving it the name specified in the parameters. Reference <a href="https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin">Cordova Sharing Plugin</a></p>
</div><h5 id="methods_sharedocument_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="sharedocument-page"><p>Name of document to be shared</p>
</div></td></tr><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="sharedocument-page"><p>url to check</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
<div class="member property"><h2 id="properties">Properties</h2>
<ul class="properties"><li><h3 id="properties_urlcdvpathdocuments">urlCDVPathDocuments</h3>
<div class="urlcdvpathdocuments"><div class="muhcapp-service-urlcdvpathdocuments-page"><p>Same as above but the using th CDV protocol.</p>
</div></div>
</li>
<li><h3 id="properties_urldevicedocuments">urlDeviceDocuments</h3>
<div class="urldevicedocuments"><div class="muhcapp-service-urldevicedocuments-page"><p>String representing the path for documents in the device, for Android, the path used is cordova.file.externalRootDirectory, which is outside
the sandbox for the app, and for IOS we use cordova.file.documentsDirectory which is inside the sandbox for the app. For more information refer to <a href="https://github.com/apache/cordova-plugin-file">Cordova File Plugin</a>.</p>
</div></div>
</li>
</ul>
</div>
</div>
