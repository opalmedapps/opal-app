<h1><code ng:non-bindable="">CheckinService</code>
<div><span class="hint">service in module <code ng:non-bindable="">MUHCApp</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="muhcapp-service-page muhcapp-service-checkinservice-page"><p>Service that deals with the checkin functionality for the app</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/MUHCApp.service:RequestToServer">RequestToServer</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:Appointments">Appointments</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:FirebaseService">FirebaseService</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:EncryptionService">EncryptionService</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/MUHCApp.service:UserPreferences">UserPreferences</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$filter">$filter</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$q">$q</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$rootScope">$rootScope</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$timeout">$timeout</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_checkcheckinserver">checkCheckinServer(appointment)</h3>
<div class="checkcheckinserver"><div class="checkcheckinserver-page"><p>Checks by querying the server if user has already checked in, perhaps from another device or simply the kiosk, or desk.</p>
</div><h5 id="methods_checkcheckinserver_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>appointment</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="checkcheckinserver-page"><p>Appointment object</p>
</div></td></tr></tbody></table><h5 id="methods_checkcheckinserver_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="checkcheckinserver-page"><p>Returns a promise that resolves to success if the user has indeed already checked in, or resolves to failure if the patient is not in the vecinity of the hospital</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_checkintoappointment">checkinToAppointment()</h3>
<div class="checkintoappointment"><div class="checkintoappointment-page"><p>Function to check a user into an appointment.</p>
</div><h5 id="methods_checkintoappointment_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="checkintoappointment-page"><p>Returns a promise that resolves to success if the user has indeed checked in, and resolves to failure if the patient is not been able to checkin. It also opens the connection to get time estimates from the backend</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getcheckinupdates">getCheckinUpdates()</h3>
<div class="getcheckinupdates"><div class="getcheckinupdates-page"><p>Gets live waiting estimate from the backend, sends a request every two seconds and updates variables attached to rootScope to propagate this result.</p>
</div></div>
</li>
<li><h3 id="methods_isallowedtocheckin">isAllowedToCheckin()</h3>
<div class="isallowedtocheckin"><div class="isallowedtocheckin-page"><p>Function determines geographically whether user is allow to check-in. Works under the
assumption that all the checks to see if an appointment is today and open have already been done! It also updates the positionCheckinAppointment property of the CheckinService.</p>
</div><h5 id="methods_isallowedtocheckin_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="isallowedtocheckin-page"><p>Returns a promise that resolves to success if the user is allowed to checkin based on whether the user is within a 300m radius of the hospital, or rejects the promise if the patient is not in the vecinity of the hospital or if there is an error while checkin location</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
<div class="member property"><h2 id="properties">Properties</h2>
<ul class="properties"><li><h3 id="properties_positioncheckinappointment">positionCheckinAppointment</h3>
<div class="positioncheckinappointment"><div class="muhcapp-service-positioncheckinappointment-page"><p>Object contains the last GPS position used when the patient tried to checkin to an appointment</p>
</div></div>
</li>
</ul>
</div>
</div>
